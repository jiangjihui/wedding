# å©šç¤¼è¯·æŸ¬ç½‘ç«™

ä¸€ä¸ªåŸºäº Vue 3 + Vant + Express + SQLite çš„å©šç¤¼è¯·æŸ¬ç½‘ç«™ï¼ŒåŒ…å«ç…§ç‰‡å±•ç¤ºã€å®¾å®¢ç®¡ç†ã€ç‚¹èµç»Ÿè®¡ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ“¸ ç…§ç‰‡å±•ç¤ºï¼šæ”¯æŒç…§ç‰‡ä¸Šä¼ ã€æ’åºã€åˆ é™¤å’Œç®¡ç†
- ğŸ‘¥ å®¾å®¢ç®¡ç†ï¼šæ”¶é›†å’Œç®¡ç†å®¾å®¢å‚åŠ ä¿¡æ¯
- â¤ï¸ ç‚¹èµåŠŸèƒ½ï¼šæ”¯æŒè®¿å®¢ç‚¹èµï¼Œå¹¶æä¾›ç‚¹èµæ•°æ®ç»Ÿè®¡
- ğŸµ èƒŒæ™¯éŸ³ä¹ï¼šè‡ªåŠ¨æ’­æ”¾èƒŒæ™¯éŸ³ä¹ï¼ˆå¯æ§åˆ¶å¼€å…³ï¼‰
- ğŸ† ç‰¹æ•ˆåŠ¨ç”»ï¼šåŒ…å«çƒŸèŠ±ç‰¹æ•ˆç­‰åŠ¨ç”»æ•ˆæœ
- ğŸ“± å“åº”å¼è®¾è®¡ï¼šé€‚é…å„ç§ç§»åŠ¨è®¾å¤‡
- ğŸ”§ åå°ç®¡ç†ï¼šæä¾›ç…§ç‰‡ã€å®¾å®¢ã€ç‚¹èµæ•°æ®çš„ç®¡ç†åŠŸèƒ½

## æŠ€æœ¯æ ˆ

- å‰ç«¯ï¼šVue 3 + Vant + SCSS
- åç«¯ï¼šExpress + SQLite3
- åŠ¨ç”»ï¼šGSAP + Howler.js
- æ„å»ºå·¥å…·ï¼šVite

## é¡¹ç›®å¯åŠ¨

1. å®‰è£…ä¾èµ–ï¼š
```bash
npm install
```

2. å¯åŠ¨åç«¯æœåŠ¡å™¨ï¼š
```bash
node src/server/index.js
```

3. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼š
```bash
npm run dev
```

4. è®¿é—®ç½‘ç«™ï¼š
- å‰å°é¡µé¢ï¼šhttp://localhost:5173
- åå°ç®¡ç†ï¼šhttp://localhost:5173/admin

## é¡¹ç›®ç»“æ„

```
wedding-invitation/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/      # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ views/          # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ router/         # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ db/            # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ server/        # åç«¯æœåŠ¡
â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”œâ”€â”€ public/            # é™æ€èµ„æº
â””â”€â”€ uploads/          # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
```

## é…ç½®è¯´æ˜

1. æ•°æ®åº“é…ç½®ï¼š
- æ•°æ®åº“æ–‡ä»¶ä½ç½®ï¼š`src/db/wedding.db`
- è‡ªåŠ¨åˆ›å»ºæ‰€éœ€çš„è¡¨ç»“æ„

2. ä¸Šä¼ é…ç½®ï¼š
- ä¸Šä¼ æ–‡ä»¶å­˜å‚¨åœ¨ `uploads` ç›®å½•
- æ”¯æŒå›¾ç‰‡æ–‡ä»¶ä¸Šä¼ å’Œ URL å¯¼å…¥

3. æœåŠ¡å™¨é…ç½®ï¼š
- é»˜è®¤ç«¯å£ï¼š3000
- æ”¯æŒè·¨åŸŸè®¿é—®
- é™æ€æ–‡ä»¶æœåŠ¡

## æ³¨æ„äº‹é¡¹

1. é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“å’Œå¿…è¦çš„è¡¨ç»“æ„
2. ç¡®ä¿ `uploads` ç›®å½•å­˜åœ¨ä¸”æœ‰å†™å…¥æƒé™
3. å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ PM2 ç­‰å·¥å…·ç®¡ç† Node.js è¿›ç¨‹
4. æ³¨æ„ä¿®æ”¹ `src/views/Home.vue` ä¸­çš„æœåŠ¡å™¨åœ°å€é…ç½®

## å¼€å‘è®¡åˆ’

- [ ] æ·»åŠ ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [ ] ä¼˜åŒ–å›¾ç‰‡åŠ è½½æ€§èƒ½
- [ ] æ·»åŠ æ›´å¤šåŠ¨ç”»æ•ˆæœ
- [ ] æ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜
- [ ] æ·»åŠ æ•°æ®å¤‡ä»½åŠŸèƒ½

## API æ–‡æ¡£

### ç…§ç‰‡ç›¸å…³

1. è·å–ç…§ç‰‡åˆ—è¡¨
```
GET /api/photos
```

2. ä¸Šä¼ ç…§ç‰‡
```
POST /api/photos
Content-Type: multipart/form-data
```

3. æ›´æ–°ç…§ç‰‡
```
PUT /api/photos/:id
Content-Type: application/json
```

4. åˆ é™¤ç…§ç‰‡
```
DELETE /api/photos/:id
```

### å®¾å®¢ç›¸å…³

1. è·å–å®¾å®¢åˆ—è¡¨
```
GET /api/guests
```

2. æ·»åŠ å®¾å®¢ä¿¡æ¯
```
POST /api/guests
Content-Type: application/json
```

3. åˆ é™¤å®¾å®¢ä¿¡æ¯
```
DELETE /api/guests/:id
```

### ç‚¹èµç›¸å…³

1. è·å–ç‚¹èµç»Ÿè®¡
```
GET /api/likes/stats
```

2. æ·»åŠ ç‚¹èµ
```
POST /api/likes
```

## éƒ¨ç½²æŒ‡å—

1. ç”Ÿäº§ç¯å¢ƒæ„å»ºï¼š
```bash
npm run build
```

2. ä½¿ç”¨ PM2 å¯åŠ¨æœåŠ¡ï¼š
```bash
pm2 start src/server/index.js --name wedding-server
```

3. é…ç½® Nginxï¼š
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        root /path/to/dist;
        try_files $uri $uri/ /index.html;
    }

    location /api {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    location /uploads {
        alias /path/to/uploads;
    }
}
```

## å¸¸è§é—®é¢˜

1. ä¸Šä¼ ç›®å½•æƒé™é—®é¢˜
```bash
chmod -R 755 uploads
chown -R node:node uploads
```

2. æ•°æ®åº“è®¿é—®æƒé™
```bash
chmod 644 src/db/wedding.db
chown node:node src/db/wedding.db
```

3. ç«¯å£è¢«å ç”¨
```bash
# æŸ¥çœ‹å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :3000
# ç»ˆæ­¢è¿›ç¨‹
kill -9 <PID>
```

## è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ– Pull Request